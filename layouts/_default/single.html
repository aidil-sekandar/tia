{{ define "main" }}
    {{ partial "nav.html" (dict "nav_white" 1) }}

    <div id="readingArea" class="row justify-content-center page-section mx-2" style="padding-top: 6.5rem;">
        <h1 class="fw-bold text-break" style="max-width: 100%;">{{ .Title }}</h1>
        <h5 class="text-primary fst-italic">Lorem ipsum dolar sit amet.</h5>
        <!-- Date layout string must follow the components listed here:
        https://gohugo.io/methods/time/format/#layout-string -->
        <p class="font-monospace mb-3"> {{ .Date.Format "2 Jan 2006" }} | {{ .WordCount }} words</p>
        <hr>

        <figure class="d-flex flex-column justify-content-center mb-3">
            <img src="{{ .Params.coverImage }}" class="img-fluid" alt="Cover image">
            <figcaption class="figure-caption text-center">{{ .Params.coverCaption }}</figcaption>
        </figure>

        <article>{{ .Content }}</article>

        <div class="d-flex justify-content-between mt-2 mb-4">
            {{ with .PrevInSection }}
                <span class="post-nav d-flex justify-content-start">
            &#129168;&nbsp;
            <a href="{{ .RelPermalink }}" class="d-inline-block text-truncate">{{- .LinkTitle -}}</a>
        </span>
            {{ else }}
                <span class="post-nav d-flex justify-content-start"></span>
            {{ end }}

            {{ with .NextInSection }}
                <span class="post-nav d-flex justify-content-end">
            <a href="{{ .RelPermalink }}" class="d-inline-block text-truncate">{{- .LinkTitle -}}</a>
            &nbsp;&#129170;
        </span>
            {{ end }}
        </div>
    </div>

    {{ partial "footer.html" }}

    <style>
        .post-nav {
            max-width: 33%;
        }

        .post-nav > a {
            max-width: calc(100% - 2ch);
        }

        /* Small devices (landscape phones, 576px and up) */
        @media (min-width: 576px) {
            #readingArea {
                margin-left: 3rem !important;
                margin-right: 3rem !important;
            }
        }

        /* Medium devices (tablets, 768px and up) */
        @media (min-width: 768px) {
            #readingArea {
                margin-left: 6rem !important;
                margin-right: 6rem !important;
            }
        }

        /* Large devices (desktops, 992px and up) */
        @media (min-width: 992px) {
            #readingArea {
                margin-left: 11rem !important;
                margin-right: 11rem !important;
            }
        }

        /* X-Large devices (large desktops, 1200px and up) */
        @media (min-width: 1200px) {
            #readingArea {
                margin-left: 15rem !important;
                margin-right: 15rem !important;
            }
        }

        /* XX-Large devices (larger desktops, 1400px and up) */
        @media (min-width: 1400px) {
            #readingArea {
                margin-left: 17rem !important;
                margin-right: 17rem !important;
            }
        }
    </style>
    <script>
        $(document).ready(function () {
            $('article table').wrapAll('<p class="table-responsive"></p>');

            $('article p > img').each(function () {
                const img = $(this);
                const altText = img.attr('alt');

                img.addClass('img-fluid')
                    .wrapAll('<figure class="d-flex flex-column justify-content-center mb-2"></figure>');

                if (altText) {
                    img.after('<figcaption class="figure-caption text-center">' + altText + '</figcaption>');
                }
            });
        });
    </script>
{{ end }}