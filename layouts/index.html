{{- define "main" -}}
<header class="masthead">
    <div class="container h-100">
        <div class="row h-100 align-items-center justify-content-center text-center pb-5">
            <div class="col-lg-10 align-self-end">
                <img class="mt-5 mb-3" src="/logo.png" width="170" height="170" alt="logo">
                <h1 class="text-uppercase text-white">Tutors in Action Malaysia</h1>
                <hr class="divider my-4"/>
            </div>
            <div class="col-lg-8 align-self-baseline">
                <p class="fs-5 fw-lighter mb-5">
                    We're an independent, student-led project aiming to assist Form 5 students who lack access to
                    affordable tuition with SPM Preparation for free.
                </p>
            </div>
        </div>
    </div>
</header>

{{- partial "nav.html" -}}

<div class="row justify-content-center page-section mx-3">
    <div class="text-center">
        <h2 class="mt-0 text-primary fw-lighter">Our <span class="fw-bold">aim</span>.</h2>
        <hr class="divider my-4"/>

        <div class="container-fluid">
            <div class="row justify-content-center align-items-center">
                <p class="px-4 col-7">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quis sem nec libero eleifend commodo.
                    Fusce et nulla eu metus cursus ultrices. Ut ac magna eu odio tincidunt sodales. Quisque nec tortor
                    eget ligula suscipit hendrerit. In hac habitasse platea dictumst. Nulla facilisi. Suspendisse
                    potenti. Donec hendrerit leo vel mauris tincidunt, nec fermentum arcu molestie.<br>
                    <br>
                    Integer ac odio quis sem laoreet consectetur. Nullam gravida, quam a tristique dictum, justo justo
                    suscipit ligula, nec gravida augue tortor nec nunc. Suspendisse potenti. Curabitur at felis vel est
                    scelerisque fringilla. Integer nec nisi nec magna malesuada vehicula. Maecenas rutrum, mauris sit
                    amet aliquam aliquet, dolor tortor faucibus neque, sed tincidunt odio lorem id nisi. Sed vel lectus
                    vel mi posuere laoreet.
                </p>
                <div class="col-4">
                    <img src="/svgs/clipart-teaching.svg" alt="Clip art">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center page-section bg-body-secondary px-5">
    <div class="text-center">
        <h2 class="mt-0 text-primary fw-lighter">Our <span class="fw-bold">impact</span>.</h2>
        <hr class="divider my-4"/>
        <p>
            Over the years from <b class="text-primary">2020</b> to <b class="text-primary">2023</b>, we have achieved
            the following milestones:
        </p>
        <div class="d-flex justify-content-around px-5 my-4">
            {{ range site.Params.impacts }}
            <div>
                <h1 class="text-primary mb-1" id="{{ crypto.MD5 (index . 1) }}"></h1>
                <p class="fw-bold">{{ index . 1 }}</p>
            </div>
            {{ end }}
        </div>
        <p class="mb-0">
            With your support and involvement, we will make greater strides together in the future!
        </p>
    </div>
</div>

<div class="row justify-content-center page-section px-5">
    <div class="text-center">
        <h2 class="mt-0 text-primary fw-lighter"><span class="fw-bold">FAQ</span>s.</h2>
        <hr class="divider my-4"/>

        {{ range site.Data.faqs }}
        <h6 class="text-uppercase pt-4">- {{ .section }} -</h6>
        {{ $sectionHash := crypto.MD5 .section }}
        <div class="accordion accordion-flush" id="faqAccordion-{{ $sectionHash }}">
            {{ range .qna }}
            {{ $hash := crypto.MD5 (print (index . 0) (index . 1)) }}
            <div class="accordion-item">
                <h2 class="accordion-header" id="accordionHeader-{{ $hash }}">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#accordionCollapse-{{ $hash }}" aria-expanded="false"
                            aria-controls="accordionCollapse-{{ $hash }}">
                        {{ index . 0 | markdownify }}
                    </button>
                </h2>
                <div id="accordionCollapse-{{ $hash }}" class="accordion-collapse collapse"
                     aria-labelledby="accordionHeader-{{ $hash }}"
                     data-bs-parent="#faqAccordion-{{ $sectionHash }}">
                    <div class="accordion-body text-start py-0 pb-2">
                        <p>{{ index . 1 | markdownify }}</p>
                    </div>
                </div>
            </div>
            {{ end }}
        </div>
        {{ end }}
    </div>
</div>

<div class="row">
    {{- partial "footer.html" -}}
</div>

<style>
    header.masthead {
        padding-top: 5rem;
        padding-bottom: calc(10rem - 4.5rem);
        background: linear-gradient(to bottom, rgba(66, 92, 85, 0.8) 0%, rgba(66, 92, 85, 0.8) 100%), url("/masthead.png");
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: scroll;
        background-size: cover;
    }

    .masthead p {
        color: var(--bs-gray-300);
    }

    .accordion-button:not(.collapsed) {
        font-weight: 500;
    }
</style>

<script type="module">
    "use strict";
    import { CountUp } from '/countup/countUp.js';

    {{ range site.Params.impacts }}
        new CountUp('{{ crypto.MD5 (index . 1) }}', {{ index . 0 }}, {
            enableScrollSpy: true,
            scrollSpyOnce: true
        });
    {{ end }}
</script>
{{- end -}}