<nav class="navbar navbar-expand-lg fixed-top py-3" id="mainNav">
    <div class="container">
        <a class="navbar-brand" href="#">
            <img src="/logo.png" width="50" height="50" alt="logo">
        </a>

        <a class="navbar-brand js-scroll-trigger lh-sm text-white" href="#main">
            <span style="font-size: 1.3em">Tutors in Action Malaysia</span><br>
            Persatuan Pelajar Bantu Pelajar Malaysia
        </a>

        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse d-flex flex-row-reverse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto my-2 my-lg-0">
                {{ range site.Params.pages }}
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger text-uppercase text-white" href="/">{{ . }}</a>
                </li>
                {{ end }}

                <li class="ms-2">
                    <button id="donate-btn" class="btn btn-outline-primary text-uppercase ps-4 pe-4 rounded-0"
                            type="button">
                        Donate
                    </button>
                    <button class="btn btn-primary text-uppercase ps-4 pe-4 rounded-0 ms-2" type="button">
                        Join Us
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>

<style>
    /* General */
    .navbar {
        position: relative;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
    }

    .navbar-brand {
        display: inline-block;
        padding-top: 0.3125rem;
        padding-bottom: 0.3125rem;
        margin-right: 1rem;
        font-size: 0.85rem !important;
        line-height: inherit;
        white-space: nowrap;
    }

    .navbar-nav {
        display: flex;
        flex-direction: column;
        padding-left: 0;
        margin-bottom: 0;
        list-style: none;
    }

    .navbar-nav .nav-link {
        padding-right: 0;
        padding-left: 0;
    }

    .fixed-top {
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
        z-index: 1030;
    }

    #mainNav .navbar-nav .nav-item .nav-link {
        padding: 0 1rem;
    }

    #mainNav .navbar-nav .nav-item:last-child .nav-link {
        padding-right: 0;
    }

    #mainNav li {
        display: flex;
        align-items: center;
    }

    #mainNav {
        box-shadow: none;
        background-color: transparent;
    }

    #mainNav.navbar-scrolled {
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        background-color: #fff;
        transition: background-color 0.2s ease;
    }

    .navbar-brand {
        opacity: 0;
    }

    #mainNav.navbar-scrolled .navbar-brand {
        opacity: 1;
        transition: opacity 0.3s ease;
        transition-delay: 0.1s;
    }

    #mainNav.navbar-scrolled {
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        background-color: #fff;
        transition: background-color 0.2s ease;
    }

    #mainNav.navbar-scrolled .nav-link, #mainNav.navbar-scrolled .navbar-brand {
        color: var(--bs-gray-700) !important;
    }

    .nav-link:hover, .nav-link:focus, #mainNav.navbar-scrolled a.navbar-brand {
        color: var(--bs-primary) !important;
    }

    #donate-btn {
        background-color: white;
        border-color: white;
    }

    #donate-btn:hover {
        color: var(--bs-primary);
        background-color: var(--bs-gray-300);
    }

    #mainNav.navbar-scrolled #donate-btn {
        border-color: var(--bs-primary);
    }

    #mainNav.navbar-scrolled #donate-btn:hover {
        color: var(--bs-primary);
        /* `var(--bs-primary)` color, not able to specify `a` without knowing its RGB */
        background-color: rgba(9, 114, 118, 0.08);
    }
</style>

<!-- Bootstrap core JS-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Third party plugin JS-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>

<script type="application/javascript">
    "use strict";

    (function ($) {
        // Smooth scrolling using jQuery easing
        $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () {
            if (location.pathname.replace(/^\//, '') === this.pathname.replace(/^\//, '') && location.hostname === this.hostname) {
                let target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html, body').animate({
                        scrollTop: (target.offset().top - 72)
                    }, 1000, "easeInOutExpo");
                    return false;
                }
            }
        });

        let listenScrollEvent = function () {
            let nav = $("#mainNav");

            if (nav.offset().top > 80) {
                nav.addClass("navbar-scrolled");
            } else {
                nav.removeClass("navbar-scrolled");
            }
        };
        listenScrollEvent();
        $(window).scroll(listenScrollEvent);
    })(jQuery);
</script>